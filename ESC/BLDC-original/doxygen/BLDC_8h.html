<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Sensorless control of 3-phase brushless DC motors: BLDC.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>BLDC.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Atmel Corporation<p>
<ul>
<li>File : <a class="el" href="BLDC_8h.html">BLDC.h</a></li><li>Compiler : IAR EWAAVR 2.28a/3.10c</li></ul>
<p>
<ul>
<li>Support mail : <a href="mailto:avr@atmel.com">avr@atmel.com</a></li></ul>
<p>
<ul>
<li>Supported devices : ATmega48/88/168</li></ul>
<p>
<ul>
<li>AppNote : AVR444 - Sensorless control of three-phase brushless ' DC motors with ATmega48.</li></ul>
<p>
<ul>
<li>Description : Example of how to use the ATmega48 for sensorless control of a three phase brushless DC motor.</li></ul>
<p>
<dl compact><dt><b>Revision</b></dt><dd>1.1 </dd></dl>
<dl compact><dt><b>Date</b></dt><dd>Monday, October 10, 2005 11:15:46 UTC </dd></dl>

<p>
Definition in file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>

<p>
This graph shows which files directly or indirectly include this file:<p><center><img src="BLDC_8h__dep__incl.png" border="0" usemap="#BLDC.hdep_map" alt=""></center>
<map name="BLDC.hdep_map">
<area href="main_8c.html" shape="rect" coords="126,7,187,33" alt="">
</map>

<p>
<a href="BLDC_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a34">ADC_MUX_CURRENT</a>&nbsp;&nbsp;&nbsp;0x3</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC multiplexer selection for current sampling.  <a href="#a34"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a35">ADC_MUX_REF_VOLTAGE</a>&nbsp;&nbsp;&nbsp;0x5</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC multiplexer selection for reference voltage sampling.  <a href="#a35"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a33">ADC_MUX_SPEED_REF</a>&nbsp;&nbsp;&nbsp;0x4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC multiplexer selection for speed reference sampling.  <a href="#a33"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a30">ADC_MUX_U</a>&nbsp;&nbsp;&nbsp;0x0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC multiplexer selection for channel U sampling.  <a href="#a30"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a31">ADC_MUX_V</a>&nbsp;&nbsp;&nbsp;0x1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC multiplexer selection for channel V sampling.  <a href="#a31"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a32">ADC_MUX_W</a>&nbsp;&nbsp;&nbsp;0x2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC multiplexer selection for channel W sampling.  <a href="#a32"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a49">ADC_PRESCALER</a>&nbsp;&nbsp;&nbsp;ADC_PRESCALER_8</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC prescaler used.  <a href="#a49"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a48">ADC_PRESCALER_16</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; ADPS2) | (0 &lt;&lt; ADPS1) | (0 &lt;&lt; ADPS0))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC clock prescaled by 8 value.  <a href="#a48"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a47">ADC_PRESCALER_8</a>&nbsp;&nbsp;&nbsp;((0 &lt;&lt; ADPS2) | (1 &lt;&lt; ADPS1) | (1 &lt;&lt; ADPS0))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC clock prescaled by 8 value.  <a href="#a47"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a36">ADC_REF_CHANNEL</a>&nbsp;&nbsp;&nbsp;((0 &lt;&lt; REFS1) | (0 &lt;&lt; REFS0))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC reference channel selection.  <a href="#a36"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a37">ADC_RES_ALIGNMENT_BEMF</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; ADLAR)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC result alignment for BEMF measurement.  <a href="#a37"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a39">ADC_RES_ALIGNMENT_CURRENT</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; ADLAR)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC result alignment for CURRENT measurement.  <a href="#a39"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a40">ADC_RES_ALIGNMENT_REF_VOLTAGE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; ADLAR)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC result alignment for reference voltage measurement.  <a href="#a40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a38">ADC_RES_ALIGNMENT_SPEED_REF</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; ADLAR)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC result alignment for speed reference measurement.  <a href="#a38"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a66">ADC_RESOLUTION</a>&nbsp;&nbsp;&nbsp;256</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The ADC resolution used.  <a href="#a66"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a50">ADC_TRIGGER_SOURCE</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; ADTS2) | (0 &lt;&lt; ADTS1) | (0 &lt;&lt; ADTS0))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADC trigger source.  <a href="#a50"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a78">ADC_ZC_THRESHOLD</a>&nbsp;&nbsp;&nbsp;0x98</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Zero-cross threshold.  <a href="#a78"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a45">ADMUX_CURRENT</a>&nbsp;&nbsp;&nbsp;(ADC_REF_CHANNEL | ADC_RES_ALIGNMENT_CURRENT | ADC_MUX_CURRENT)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADMUX register value for current sampling.  <a href="#a45"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a46">ADMUX_REF_VOLTAGE</a>&nbsp;&nbsp;&nbsp;(ADC_REF_CHANNEL | ADC_RES_ALIGNMENT_REF_VOLTAGE | ADC_MUX_REF_VOLTAGE)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADMUX register value for reference voltage sampling.  <a href="#a46"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a44">ADMUX_SPEED_REF</a>&nbsp;&nbsp;&nbsp;(ADC_REF_CHANNEL | ADC_RES_ALIGNMENT_SPEED_REF | ADC_MUX_SPEED_REF)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADMUX register value for speed reference sampling.  <a href="#a44"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a41">ADMUX_U</a>&nbsp;&nbsp;&nbsp;(ADC_REF_CHANNEL | ADC_RES_ALIGNMENT_BEMF | ADC_MUX_U)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADMUX register value for channel U sampling.  <a href="#a41"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a42">ADMUX_V</a>&nbsp;&nbsp;&nbsp;(ADC_REF_CHANNEL | ADC_RES_ALIGNMENT_BEMF | ADC_MUX_V)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADMUX register value for channel V sampling.  <a href="#a42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a43">ADMUX_W</a>&nbsp;&nbsp;&nbsp;(ADC_REF_CHANNEL | ADC_RES_ALIGNMENT_BEMF | ADC_MUX_W)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ADMUX register value for channel W sampling.  <a href="#a43"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a74">ANALOG_COMPARATOR_ENABLE</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a12">CCW</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counterclockwise rotation flag. Used only in macros.  <a href="#a12"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a57">CLEAR_ALL_TIMER0_INT_FLAGS</a>&nbsp;&nbsp;&nbsp;(TIFR0 = TIFR0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro that clears all Timer/counter0 interrupt flags.  <a href="#a57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a60">CLEAR_ALL_TIMER1_INT_FLAGS</a>&nbsp;&nbsp;&nbsp;(TIFR1 = TIFR1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro that clears all Timer/Counter1 interrupt flags.  <a href="#a60"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a79">COMMUTATION_CORRECTION</a>&nbsp;&nbsp;&nbsp;50</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a69">COMMUTATION_TIMING_IIR_COEFF_A</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Input value relative gain in IIR filter.  <a href="#a69"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a70">COMMUTATION_TIMING_IIR_COEFF_B</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Relative feedback gain in IIR filter.  <a href="#a70"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a73">CURRENT_LIMITER_CRITICAL</a>&nbsp;&nbsp;&nbsp;3000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The current value in milliAmpere where the motor should be shut down.  <a href="#a73"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a75">CURRENT_LIMITER_FACTOR</a>&nbsp;&nbsp;&nbsp;(1 / 5)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a72">CURRENT_LIMITER_START</a>&nbsp;&nbsp;&nbsp;2500</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The current value in milliAmpere where the current limiter starts to kick in.  <a href="#a72"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a11">CW</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clockwise rotation flag. Used only in macros.  <a href="#a11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a13">DIRECTION_OF_ROTATION</a>&nbsp;&nbsp;&nbsp;CCW</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a58">DISABLE_ALL_TIMER0_INTS</a>&nbsp;&nbsp;&nbsp;(TIMSK0 = 0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro that disables all Timer/Counter0 interrupts.  <a href="#a58"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a61">DISABLE_ALL_TIMER1_INTS</a>&nbsp;&nbsp;&nbsp;(TIMSK1 = 0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro that disables all Timer/Counter1 interrupts.  <a href="#a61"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a76">DISABLE_DRIVING</a>&nbsp;&nbsp;&nbsp;(DRIVE_PORT = 0x00)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro that cuts all power to the motor.  <a href="#a76"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a29">DRIVE_DDR</a>&nbsp;&nbsp;&nbsp;DDRB</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data direction register for drive pattern output.  <a href="#a29"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a14">DRIVE_PATTERN_STEP1_CCW</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; UL) | (1 &lt;&lt; VH))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive pattern for commutation step 1, CCW rotation.  <a href="#a14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a20">DRIVE_PATTERN_STEP1_CW</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; VH) | (1 &lt;&lt; WL))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive pattern for commutation step 1, CW rotation.  <a href="#a20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a15">DRIVE_PATTERN_STEP2_CCW</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; UL) | (1 &lt;&lt; WH))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive pattern for commutation step 2, CCW rotation.  <a href="#a15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a21">DRIVE_PATTERN_STEP2_CW</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; UH) | (1 &lt;&lt; WL))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive pattern for commutation step 2, CW rotation.  <a href="#a21"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a16">DRIVE_PATTERN_STEP3_CCW</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; VL) | (1 &lt;&lt; WH))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive pattern for commutation step 3, CCW rotation.  <a href="#a16"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a22">DRIVE_PATTERN_STEP3_CW</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; UH) | (1 &lt;&lt; VL))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive pattern for commutation step 3, CW rotation.  <a href="#a22"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a17">DRIVE_PATTERN_STEP4_CCW</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; VL) | (1 &lt;&lt; UH))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive pattern for commutation step 4, CCW rotation.  <a href="#a17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a23">DRIVE_PATTERN_STEP4_CW</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; WH) | (1 &lt;&lt; VL))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive pattern for commutation step 4, CW rotation.  <a href="#a23"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a18">DRIVE_PATTERN_STEP5_CCW</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; WL) | (1 &lt;&lt; UH))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive pattern for commutation step 5, CCW rotation.  <a href="#a18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a24">DRIVE_PATTERN_STEP5_CW</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; WH) | (1 &lt;&lt; UL))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive pattern for commutation step 5, CW rotation.  <a href="#a24"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a19">DRIVE_PATTERN_STEP6_CCW</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; WL) | (1 &lt;&lt; VH))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive pattern for commutation step 6, CCW rotation.  <a href="#a19"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a25">DRIVE_PATTERN_STEP6_CW</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; VH) | (1 &lt;&lt; UL))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive pattern for commutation step 6, CW rotation.  <a href="#a25"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a28">DRIVE_PORT</a>&nbsp;&nbsp;&nbsp;PORTB</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PORT register for drive pattern output.  <a href="#a28"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a26">EDGE_FALLING</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Zero crossing polarity flag value for falling zero crossing.  <a href="#a26"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a27">EDGE_RISING</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Zero crossing polarity flag value for rinsing zero crossing.  <a href="#a27"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a64">EXTERNAL_REF_VOLTAGE</a>&nbsp;&nbsp;&nbsp;((4930UL * 10) / 43)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">External reference voltage in milliVolts.  <a href="#a64"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a3">FALSE</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Boolean FALSE value.  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a81">MAX_PWM_COMPARE_VALUE</a>&nbsp;&nbsp;&nbsp;200</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The maximum allowed PWM compare value.  <a href="#a81"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a54">MAX_RESTART_ATTEMPTS</a>&nbsp;&nbsp;&nbsp;10</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The maximum number of restart attempts without external action when stall is detected.  <a href="#a54"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a83">MAX_SPEED</a>&nbsp;&nbsp;&nbsp;8000UL</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The maximum allowed speed. (Only has effect when closed loop speed control is used).  <a href="#a83"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a80">MIN_PWM_COMPARE_VALUE</a>&nbsp;&nbsp;&nbsp;90</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The minimum allowed PWM compare value.  <a href="#a80"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a82">MIN_SPEED</a>&nbsp;&nbsp;&nbsp;3000UL</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The minimum allowed speed. (Only has effect when closed loop speed control is used).  <a href="#a82"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a84">P_REG_K_P</a>&nbsp;&nbsp;&nbsp;64</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">P-regulator proportional gain.  <a href="#a84"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a85">P_REG_SCALING</a>&nbsp;&nbsp;&nbsp;65536</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">P-regulator scaling factor. The result is divided by this number.  <a href="#a85"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a1">PWM_BASE_FREQUENCY</a>&nbsp;&nbsp;&nbsp;20000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM base frequency. Used to calculate PWM TOP value.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a2">PWM_TOP_VALUE</a>&nbsp;&nbsp;&nbsp;(SYSTEM_FREQUENCY / PWM_BASE_FREQUENCY / 2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM TOP value. Automatically calculated to give desired <a class="el" href="BLDC_8h.html#a1">PWM_BASE_FREQUENCY</a>.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a56">SET_PWM_COMPARE_VALUE</a>(compareValue)&nbsp;&nbsp;&nbsp;(OCR0B = compareValue)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro that sets a new duty cycle by changing the PWM compare value.  <a href="#a56"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a59">SET_TIMER0_INT_ZC_DETECTION</a>&nbsp;&nbsp;&nbsp;(TIMSK0 = (1 &lt;&lt; TOIE0))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro that enables Timer/Counter0 interrupt where zero crossings are detected.  <a href="#a59"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a62">SET_TIMER1_INT_COMMUTATION</a>&nbsp;&nbsp;&nbsp;(TIMSK1 = (1 &lt;&lt; OCIE1A))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro that enable Timer/Counter1 interrupt responsible for commutation.  <a href="#a62"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a63">SET_TIMER1_INT_HOLDOFF</a>&nbsp;&nbsp;&nbsp;(TIMSK1 = (1 &lt;&lt; OCIE1B))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro that enables Timer/Counter1 interrupt responsible for enabling ADC sampling after ADC holdoff period.  <a href="#a63"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a65">SHUNT_RESISTANCE</a>&nbsp;&nbsp;&nbsp;220</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current measurement shunt value in milliOhm.  <a href="#a65"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a71">SPEED_CONTROL_OPEN_LOOP</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Uncomment one of the following lines to choose open or closed loop speed control.  <a href="#a71"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a52">STARTUP_DELAY_MULTIPLIER</a>&nbsp;&nbsp;&nbsp;100</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Startup delays are given in milliseconds times STARTUP_DELAY_MULTIPLIER.  <a href="#a52"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a53">STARTUP_LOCK_DELAY</a>&nbsp;&nbsp;&nbsp;10000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a51">STARTUP_NUM_COMMUTATIONS</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a77">STARTUP_PWM_COMPARE_VALUE</a>&nbsp;&nbsp;&nbsp;130</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PWM compare value used during startup.  <a href="#a77"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a0">SYSTEM_FREQUENCY</a>&nbsp;&nbsp;&nbsp;8000000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">System clock frequecy. Used to calculate PWM TOP value.  <a href="#a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a68">TICKS_PER_MINUTE</a>&nbsp;&nbsp;&nbsp;(TICKS_PER_SECOND * 60)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The number of Timer/Counter1 ticks per minute.  <a href="#a68"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a67">TICKS_PER_SECOND</a>&nbsp;&nbsp;&nbsp;1000000UL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a4">TRUE</a>&nbsp;&nbsp;&nbsp;(!FALSE)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Boolean TRUE expression. Can be used both for test and assignment.  <a href="#a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a6">UH</a>&nbsp;&nbsp;&nbsp;PB4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Port pin connected to phase U, high side enable switch.  <a href="#a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a5">UL</a>&nbsp;&nbsp;&nbsp;PB5</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Port pin connected to phase U, low side enable switch.  <a href="#a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a8">VH</a>&nbsp;&nbsp;&nbsp;PB2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Port pin connected to phase V, high side enable switch.  <a href="#a8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a7">VL</a>&nbsp;&nbsp;&nbsp;PB3</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Port pin connected to phase V, low side enable switch.  <a href="#a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a10">WH</a>&nbsp;&nbsp;&nbsp;PB0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Port pin connected to phase W, high side enable switch.  <a href="#a10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a9">WL</a>&nbsp;&nbsp;&nbsp;PB1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Port pin connected to phase W, low side enable switch.  <a href="#a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a55">ZC_DETECTION_HOLDOFF_TIME_US</a>&nbsp;&nbsp;&nbsp;(<a class="el" href="main_8c.html#a3">filteredTimeSinceCommutation</a> / 2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Holdoff time where zero-cross detection is disabled after commutation.  <a href="#a55"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a98">CalculateCurrent</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a96">CalculateSpeed</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a97">CalculateSpeedSetpoint</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a100">CurrentControl</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a89">InitADC</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a90">InitAnalogComparator</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a87">InitPorts</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a88">InitTimers</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a92">MakeTables</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a94">PWMControl</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a86">ResetHandler</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static signed int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a99">SpeedControl</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a93">StartMotor</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a95">StartupDelay</a> (unsigned int delay)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generates a delay used during startup.  <a href="#a95"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="BLDC_8h.html#a91">WatchdogTimerEnable</a> (void)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a34"></a><!-- doxytag: member="BLDC.h::ADC_MUX_CURRENT" ref="a34" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_MUX_CURRENT&nbsp;&nbsp;&nbsp;0x3          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC multiplexer selection for current sampling. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00132">132</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a35"></a><!-- doxytag: member="BLDC.h::ADC_MUX_REF_VOLTAGE" ref="a35" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_MUX_REF_VOLTAGE&nbsp;&nbsp;&nbsp;0x5          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC multiplexer selection for reference voltage sampling. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00135">135</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a33"></a><!-- doxytag: member="BLDC.h::ADC_MUX_SPEED_REF" ref="a33" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_MUX_SPEED_REF&nbsp;&nbsp;&nbsp;0x4          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC multiplexer selection for speed reference sampling. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00129">129</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a30"></a><!-- doxytag: member="BLDC.h::ADC_MUX_U" ref="a30" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_MUX_U&nbsp;&nbsp;&nbsp;0x0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC multiplexer selection for channel U sampling. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00120">120</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a31"></a><!-- doxytag: member="BLDC.h::ADC_MUX_V" ref="a31" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_MUX_V&nbsp;&nbsp;&nbsp;0x1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC multiplexer selection for channel V sampling. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00123">123</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a32"></a><!-- doxytag: member="BLDC.h::ADC_MUX_W" ref="a32" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_MUX_W&nbsp;&nbsp;&nbsp;0x2          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC multiplexer selection for channel W sampling. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00126">126</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a49"></a><!-- doxytag: member="BLDC.h::ADC_PRESCALER" ref="a49" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_PRESCALER&nbsp;&nbsp;&nbsp;ADC_PRESCALER_8          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC prescaler used. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00177">177</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a48"></a><!-- doxytag: member="BLDC.h::ADC_PRESCALER_16" ref="a48" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_PRESCALER_16&nbsp;&nbsp;&nbsp;((1 &lt;&lt; ADPS2) | (0 &lt;&lt; ADPS1) | (0 &lt;&lt; ADPS0))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC clock prescaled by 8 value. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00174">174</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00211">InitADC()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a47"></a><!-- doxytag: member="BLDC.h::ADC_PRESCALER_8" ref="a47" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_PRESCALER_8&nbsp;&nbsp;&nbsp;((0 &lt;&lt; ADPS2) | (1 &lt;&lt; ADPS1) | (1 &lt;&lt; ADPS0))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC clock prescaled by 8 value. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00171">171</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00211">InitADC()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a36"></a><!-- doxytag: member="BLDC.h::ADC_REF_CHANNEL" ref="a36" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_REF_CHANNEL&nbsp;&nbsp;&nbsp;((0 &lt;&lt; REFS1) | (0 &lt;&lt; REFS0))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC reference channel selection. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00138">138</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a37"></a><!-- doxytag: member="BLDC.h::ADC_RES_ALIGNMENT_BEMF" ref="a37" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_RES_ALIGNMENT_BEMF&nbsp;&nbsp;&nbsp;(1 &lt;&lt; ADLAR)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC result alignment for BEMF measurement. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00141">141</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a39"></a><!-- doxytag: member="BLDC.h::ADC_RES_ALIGNMENT_CURRENT" ref="a39" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_RES_ALIGNMENT_CURRENT&nbsp;&nbsp;&nbsp;(1 &lt;&lt; ADLAR)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC result alignment for CURRENT measurement. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00147">147</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a40"></a><!-- doxytag: member="BLDC.h::ADC_RES_ALIGNMENT_REF_VOLTAGE" ref="a40" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_RES_ALIGNMENT_REF_VOLTAGE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; ADLAR)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC result alignment for reference voltage measurement. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00150">150</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a38"></a><!-- doxytag: member="BLDC.h::ADC_RES_ALIGNMENT_SPEED_REF" ref="a38" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_RES_ALIGNMENT_SPEED_REF&nbsp;&nbsp;&nbsp;(1 &lt;&lt; ADLAR)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC result alignment for speed reference measurement. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00144">144</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a66"></a><!-- doxytag: member="BLDC.h::ADC_RESOLUTION" ref="a66" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_RESOLUTION&nbsp;&nbsp;&nbsp;256          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The ADC resolution used. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00234">234</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00707">CalculateSpeedSetpoint()</a>, and <a class="el" href="main_8c-source.html#l00655">PWMControl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a50"></a><!-- doxytag: member="BLDC.h::ADC_TRIGGER_SOURCE" ref="a50" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_TRIGGER_SOURCE&nbsp;&nbsp;&nbsp;((1 &lt;&lt; ADTS2) | (0 &lt;&lt; ADTS1) | (0 &lt;&lt; ADTS0))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADC trigger source. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00180">180</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00211">InitADC()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a78"></a><!-- doxytag: member="BLDC.h::ADC_ZC_THRESHOLD" ref="a78" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADC_ZC_THRESHOLD&nbsp;&nbsp;&nbsp;0x98          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Zero-cross threshold. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00290">290</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a45"></a><!-- doxytag: member="BLDC.h::ADMUX_CURRENT" ref="a45" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADMUX_CURRENT&nbsp;&nbsp;&nbsp;(ADC_REF_CHANNEL | ADC_RES_ALIGNMENT_CURRENT | ADC_MUX_CURRENT)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADMUX register value for current sampling. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00165">165</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a46"></a><!-- doxytag: member="BLDC.h::ADMUX_REF_VOLTAGE" ref="a46" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADMUX_REF_VOLTAGE&nbsp;&nbsp;&nbsp;(ADC_REF_CHANNEL | ADC_RES_ALIGNMENT_REF_VOLTAGE | ADC_MUX_REF_VOLTAGE)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADMUX register value for reference voltage sampling. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00168">168</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00211">InitADC()</a>, and <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a44"></a><!-- doxytag: member="BLDC.h::ADMUX_SPEED_REF" ref="a44" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADMUX_SPEED_REF&nbsp;&nbsp;&nbsp;(ADC_REF_CHANNEL | ADC_RES_ALIGNMENT_SPEED_REF | ADC_MUX_SPEED_REF)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADMUX register value for speed reference sampling. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00162">162</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a41"></a><!-- doxytag: member="BLDC.h::ADMUX_U" ref="a41" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADMUX_U&nbsp;&nbsp;&nbsp;(ADC_REF_CHANNEL | ADC_RES_ALIGNMENT_BEMF | ADC_MUX_U)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADMUX register value for channel U sampling. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00153">153</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a42"></a><!-- doxytag: member="BLDC.h::ADMUX_V" ref="a42" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADMUX_V&nbsp;&nbsp;&nbsp;(ADC_REF_CHANNEL | ADC_RES_ALIGNMENT_BEMF | ADC_MUX_V)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADMUX register value for channel V sampling. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00156">156</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a43"></a><!-- doxytag: member="BLDC.h::ADMUX_W" ref="a43" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ADMUX_W&nbsp;&nbsp;&nbsp;(ADC_REF_CHANNEL | ADC_RES_ALIGNMENT_BEMF | ADC_MUX_W)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
ADMUX register value for channel W sampling. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00159">159</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a74"></a><!-- doxytag: member="BLDC.h::ANALOG_COMPARATOR_ENABLE" ref="a74" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ANALOG_COMPARATOR_ENABLE          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Uncomment the following line if the analog comparator should be used to detect overcurrent.
<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00275">275</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12"></a><!-- doxytag: member="BLDC.h::CCW" ref="a12" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CCW&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Counterclockwise rotation flag. Used only in macros. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00063">63</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a57"></a><!-- doxytag: member="BLDC.h::CLEAR_ALL_TIMER0_INT_FLAGS" ref="a57" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CLEAR_ALL_TIMER0_INT_FLAGS&nbsp;&nbsp;&nbsp;(TIFR0 = TIFR0)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Macro that clears all Timer/counter0 interrupt flags. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00207">207</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00544">CurrentMeasurementComplete()</a>, and <a class="el" href="main_8c-source.html#l00507">EnableZCDetection()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a60"></a><!-- doxytag: member="BLDC.h::CLEAR_ALL_TIMER1_INT_FLAGS" ref="a60" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CLEAR_ALL_TIMER1_INT_FLAGS&nbsp;&nbsp;&nbsp;(TIFR1 = TIFR1)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Macro that clears all Timer/Counter1 interrupt flags. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00216">216</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00482">Commutate()</a>, <a class="el" href="main_8c-source.html#l00507">EnableZCDetection()</a>, <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>, and <a class="el" href="main_8c-source.html#l00593">StartupDelay()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a79"></a><!-- doxytag: member="BLDC.h::COMMUTATION_CORRECTION" ref="a79" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define COMMUTATION_CORRECTION&nbsp;&nbsp;&nbsp;50          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The number of milliseconds to subtract from the zero-crossing to commutation time. Used to compensate for zero-cross sample frequency.
<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00296">296</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a69"></a><!-- doxytag: member="BLDC.h::COMMUTATION_TIMING_IIR_COEFF_A" ref="a69" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define COMMUTATION_TIMING_IIR_COEFF_A&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Input value relative gain in IIR filter. 
<p>
This value specifies the relative gain given to the input value in the IIR filter. The value should be an integer. Make sure that COEFF_A + COEFF_B is a power of 2, to avoid instability.
<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00251">251</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a70"></a><!-- doxytag: member="BLDC.h::COMMUTATION_TIMING_IIR_COEFF_B" ref="a70" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define COMMUTATION_TIMING_IIR_COEFF_B&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Relative feedback gain in IIR filter. 
<p>
This value specifies the relative feedback gain given to the input value in the IIR filter. The value should be an integer. Make sure that COEFF_A + COEFF_B is a power of 2, to avoid instability.
<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00259">259</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a73"></a><!-- doxytag: member="BLDC.h::CURRENT_LIMITER_CRITICAL" ref="a73" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CURRENT_LIMITER_CRITICAL&nbsp;&nbsp;&nbsp;3000          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The current value in milliAmpere where the motor should be shut down. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00269">269</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00767">CurrentControl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a75"></a><!-- doxytag: member="BLDC.h::CURRENT_LIMITER_FACTOR" ref="a75" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CURRENT_LIMITER_FACTOR&nbsp;&nbsp;&nbsp;(1 / 5)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The maximum duty cycles is decreased by this number of PWM duty cycle steps per milliAmpere current consumption over <a class="el" href="BLDC_8h.html#a72">CURRENT_LIMITER_START</a>.
<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00281">281</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00767">CurrentControl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a72"></a><!-- doxytag: member="BLDC.h::CURRENT_LIMITER_START" ref="a72" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CURRENT_LIMITER_START&nbsp;&nbsp;&nbsp;2500          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The current value in milliAmpere where the current limiter starts to kick in. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00266">266</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00767">CurrentControl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11"></a><!-- doxytag: member="BLDC.h::CW" ref="a11" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CW&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Clockwise rotation flag. Used only in macros. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00060">60</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13"></a><!-- doxytag: member="BLDC.h::DIRECTION_OF_ROTATION" ref="a13" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DIRECTION_OF_ROTATION&nbsp;&nbsp;&nbsp;CCW          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Direction of rotation. Set to either CW or CCW for clockwise and counterclockwise respectively.
<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00068">68</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a58"></a><!-- doxytag: member="BLDC.h::DISABLE_ALL_TIMER0_INTS" ref="a58" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DISABLE_ALL_TIMER0_INTS&nbsp;&nbsp;&nbsp;(TIMSK0 = 0)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Macro that disables all Timer/Counter0 interrupts. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00210">210</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a61"></a><!-- doxytag: member="BLDC.h::DISABLE_ALL_TIMER1_INTS" ref="a61" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DISABLE_ALL_TIMER1_INTS&nbsp;&nbsp;&nbsp;(TIMSK1 = 0)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Macro that disables all Timer/Counter1 interrupts. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00219">219</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00507">EnableZCDetection()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a76"></a><!-- doxytag: member="BLDC.h::DISABLE_DRIVING" ref="a76" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DISABLE_DRIVING&nbsp;&nbsp;&nbsp;(DRIVE_PORT = 0x00)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Macro that cuts all power to the motor. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00284">284</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00575">OverCurrentISR()</a>, and <a class="el" href="main_8c-source.html#l00559">WatchdogISR()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a29"></a><!-- doxytag: member="BLDC.h::DRIVE_DDR" ref="a29" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_DDR&nbsp;&nbsp;&nbsp;DDRB          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Data direction register for drive pattern output. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00117">117</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00174">InitPorts()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14"></a><!-- doxytag: member="BLDC.h::DRIVE_PATTERN_STEP1_CCW" ref="a14" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_PATTERN_STEP1_CCW&nbsp;&nbsp;&nbsp;((1 &lt;&lt; UL) | (1 &lt;&lt; VH))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Drive pattern for commutation step 1, CCW rotation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00071">71</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a20"></a><!-- doxytag: member="BLDC.h::DRIVE_PATTERN_STEP1_CW" ref="a20" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_PATTERN_STEP1_CW&nbsp;&nbsp;&nbsp;((1 &lt;&lt; VH) | (1 &lt;&lt; WL))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Drive pattern for commutation step 1, CW rotation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00090">90</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15"></a><!-- doxytag: member="BLDC.h::DRIVE_PATTERN_STEP2_CCW" ref="a15" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_PATTERN_STEP2_CCW&nbsp;&nbsp;&nbsp;((1 &lt;&lt; UL) | (1 &lt;&lt; WH))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Drive pattern for commutation step 2, CCW rotation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00074">74</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a21"></a><!-- doxytag: member="BLDC.h::DRIVE_PATTERN_STEP2_CW" ref="a21" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_PATTERN_STEP2_CW&nbsp;&nbsp;&nbsp;((1 &lt;&lt; UH) | (1 &lt;&lt; WL))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Drive pattern for commutation step 2, CW rotation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00093">93</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16"></a><!-- doxytag: member="BLDC.h::DRIVE_PATTERN_STEP3_CCW" ref="a16" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_PATTERN_STEP3_CCW&nbsp;&nbsp;&nbsp;((1 &lt;&lt; VL) | (1 &lt;&lt; WH))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Drive pattern for commutation step 3, CCW rotation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00077">77</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a22"></a><!-- doxytag: member="BLDC.h::DRIVE_PATTERN_STEP3_CW" ref="a22" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_PATTERN_STEP3_CW&nbsp;&nbsp;&nbsp;((1 &lt;&lt; UH) | (1 &lt;&lt; VL))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Drive pattern for commutation step 3, CW rotation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00096">96</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17"></a><!-- doxytag: member="BLDC.h::DRIVE_PATTERN_STEP4_CCW" ref="a17" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_PATTERN_STEP4_CCW&nbsp;&nbsp;&nbsp;((1 &lt;&lt; VL) | (1 &lt;&lt; UH))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Drive pattern for commutation step 4, CCW rotation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00080">80</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a23"></a><!-- doxytag: member="BLDC.h::DRIVE_PATTERN_STEP4_CW" ref="a23" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_PATTERN_STEP4_CW&nbsp;&nbsp;&nbsp;((1 &lt;&lt; WH) | (1 &lt;&lt; VL))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Drive pattern for commutation step 4, CW rotation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00099">99</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a18"></a><!-- doxytag: member="BLDC.h::DRIVE_PATTERN_STEP5_CCW" ref="a18" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_PATTERN_STEP5_CCW&nbsp;&nbsp;&nbsp;((1 &lt;&lt; WL) | (1 &lt;&lt; UH))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Drive pattern for commutation step 5, CCW rotation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00083">83</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a24"></a><!-- doxytag: member="BLDC.h::DRIVE_PATTERN_STEP5_CW" ref="a24" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_PATTERN_STEP5_CW&nbsp;&nbsp;&nbsp;((1 &lt;&lt; WH) | (1 &lt;&lt; UL))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Drive pattern for commutation step 5, CW rotation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00102">102</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a19"></a><!-- doxytag: member="BLDC.h::DRIVE_PATTERN_STEP6_CCW" ref="a19" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_PATTERN_STEP6_CCW&nbsp;&nbsp;&nbsp;((1 &lt;&lt; WL) | (1 &lt;&lt; VH))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Drive pattern for commutation step 6, CCW rotation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00086">86</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a25"></a><!-- doxytag: member="BLDC.h::DRIVE_PATTERN_STEP6_CW" ref="a25" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_PATTERN_STEP6_CW&nbsp;&nbsp;&nbsp;((1 &lt;&lt; VH) | (1 &lt;&lt; UL))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Drive pattern for commutation step 6, CW rotation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00105">105</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00262">MakeTables()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a28"></a><!-- doxytag: member="BLDC.h::DRIVE_PORT" ref="a28" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define DRIVE_PORT&nbsp;&nbsp;&nbsp;PORTB          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
PORT register for drive pattern output. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00114">114</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00482">Commutate()</a>, <a class="el" href="main_8c-source.html#l00767">CurrentControl()</a>, and <a class="el" href="main_8c-source.html#l00311">StartMotor()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a26"></a><!-- doxytag: member="BLDC.h::EDGE_FALLING" ref="a26" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define EDGE_FALLING&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Zero crossing polarity flag value for falling zero crossing. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00108">108</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a27"></a><!-- doxytag: member="BLDC.h::EDGE_RISING" ref="a27" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define EDGE_RISING&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Zero crossing polarity flag value for rinsing zero crossing. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00111">111</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a64"></a><!-- doxytag: member="BLDC.h::EXTERNAL_REF_VOLTAGE" ref="a64" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define EXTERNAL_REF_VOLTAGE&nbsp;&nbsp;&nbsp;((4930UL * 10) / 43)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
External reference voltage in milliVolts. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00228">228</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00719">CalculateCurrent()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3"></a><!-- doxytag: member="BLDC.h::FALSE" ref="a3" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define FALSE&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Boolean FALSE value. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00036">36</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a81"></a><!-- doxytag: member="BLDC.h::MAX_PWM_COMPARE_VALUE" ref="a81" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MAX_PWM_COMPARE_VALUE&nbsp;&nbsp;&nbsp;200          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The maximum allowed PWM compare value. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00302">302</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00655">PWMControl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a54"></a><!-- doxytag: member="BLDC.h::MAX_RESTART_ATTEMPTS" ref="a54" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MAX_RESTART_ATTEMPTS&nbsp;&nbsp;&nbsp;10          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The maximum number of restart attempts without external action when stall is detected. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00198">198</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00124">ResetHandler()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a83"></a><!-- doxytag: member="BLDC.h::MAX_SPEED" ref="a83" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MAX_SPEED&nbsp;&nbsp;&nbsp;8000UL          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The maximum allowed speed. (Only has effect when closed loop speed control is used). 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00308">308</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00707">CalculateSpeedSetpoint()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a80"></a><!-- doxytag: member="BLDC.h::MIN_PWM_COMPARE_VALUE" ref="a80" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIN_PWM_COMPARE_VALUE&nbsp;&nbsp;&nbsp;90          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The minimum allowed PWM compare value. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00299">299</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00655">PWMControl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a82"></a><!-- doxytag: member="BLDC.h::MIN_SPEED" ref="a82" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MIN_SPEED&nbsp;&nbsp;&nbsp;3000UL          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The minimum allowed speed. (Only has effect when closed loop speed control is used). 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00305">305</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00707">CalculateSpeedSetpoint()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a84"></a><!-- doxytag: member="BLDC.h::P_REG_K_P" ref="a84" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define P_REG_K_P&nbsp;&nbsp;&nbsp;64          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
P-regulator proportional gain. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00311">311</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00742">SpeedControl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a85"></a><!-- doxytag: member="BLDC.h::P_REG_SCALING" ref="a85" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define P_REG_SCALING&nbsp;&nbsp;&nbsp;65536          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
P-regulator scaling factor. The result is divided by this number. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00314">314</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00742">SpeedControl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1"></a><!-- doxytag: member="BLDC.h::PWM_BASE_FREQUENCY" ref="a1" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define PWM_BASE_FREQUENCY&nbsp;&nbsp;&nbsp;20000          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
PWM base frequency. Used to calculate PWM TOP value. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00030">30</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2"></a><!-- doxytag: member="BLDC.h::PWM_TOP_VALUE" ref="a2" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define PWM_TOP_VALUE&nbsp;&nbsp;&nbsp;(SYSTEM_FREQUENCY / PWM_BASE_FREQUENCY / 2)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
PWM TOP value. Automatically calculated to give desired <a class="el" href="BLDC_8h.html#a1">PWM_BASE_FREQUENCY</a>. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00033">33</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00192">InitTimers()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a56"></a><!-- doxytag: member="BLDC.h::SET_PWM_COMPARE_VALUE" ref="a56" args="(compareValue)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define SET_PWM_COMPARE_VALUE          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">compareValue&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(OCR0B = compareValue)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Macro that sets a new duty cycle by changing the PWM compare value. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00204">204</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00655">PWMControl()</a>, and <a class="el" href="main_8c-source.html#l00311">StartMotor()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a59"></a><!-- doxytag: member="BLDC.h::SET_TIMER0_INT_ZC_DETECTION" ref="a59" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define SET_TIMER0_INT_ZC_DETECTION&nbsp;&nbsp;&nbsp;(TIMSK0 = (1 &lt;&lt; TOIE0))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Macro that enables Timer/Counter0 interrupt where zero crossings are detected. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00213">213</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00507">EnableZCDetection()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a62"></a><!-- doxytag: member="BLDC.h::SET_TIMER1_INT_COMMUTATION" ref="a62" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define SET_TIMER1_INT_COMMUTATION&nbsp;&nbsp;&nbsp;(TIMSK1 = (1 &lt;&lt; OCIE1A))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Macro that enable Timer/Counter1 interrupt responsible for commutation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00222">222</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a63"></a><!-- doxytag: member="BLDC.h::SET_TIMER1_INT_HOLDOFF" ref="a63" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define SET_TIMER1_INT_HOLDOFF&nbsp;&nbsp;&nbsp;(TIMSK1 = (1 &lt;&lt; OCIE1B))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Macro that enables Timer/Counter1 interrupt responsible for enabling ADC sampling after ADC holdoff period. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00225">225</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00482">Commutate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a65"></a><!-- doxytag: member="BLDC.h::SHUNT_RESISTANCE" ref="a65" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define SHUNT_RESISTANCE&nbsp;&nbsp;&nbsp;220          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Current measurement shunt value in milliOhm. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00231">231</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00719">CalculateCurrent()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a71"></a><!-- doxytag: member="BLDC.h::SPEED_CONTROL_OPEN_LOOP" ref="a71" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define SPEED_CONTROL_OPEN_LOOP          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Uncomment one of the following lines to choose open or closed loop speed control. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00262">262</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a52"></a><!-- doxytag: member="BLDC.h::STARTUP_DELAY_MULTIPLIER" ref="a52" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define STARTUP_DELAY_MULTIPLIER&nbsp;&nbsp;&nbsp;100          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Startup delays are given in milliseconds times STARTUP_DELAY_MULTIPLIER. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00189">189</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00311">StartMotor()</a>, and <a class="el" href="main_8c-source.html#l00593">StartupDelay()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a53"></a><!-- doxytag: member="BLDC.h::STARTUP_LOCK_DELAY" ref="a53" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define STARTUP_LOCK_DELAY&nbsp;&nbsp;&nbsp;10000          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Number of milliseconds to lock rotor in first commutation step before the timed startup sequence is initiated.
<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00195">195</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00311">StartMotor()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a51"></a><!-- doxytag: member="BLDC.h::STARTUP_NUM_COMMUTATIONS" ref="a51" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define STARTUP_NUM_COMMUTATIONS&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Number of commutations performed during startup. Also specifies size of <a class="el" href="main_8c.html#a2">startupDelays</a>. Do not change without also changing <a class="el" href="BLDC_8h.html#a92">MakeTables()</a>.
<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00186">186</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00311">StartMotor()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a77"></a><!-- doxytag: member="BLDC.h::STARTUP_PWM_COMPARE_VALUE" ref="a77" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define STARTUP_PWM_COMPARE_VALUE&nbsp;&nbsp;&nbsp;130          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
PWM compare value used during startup. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00287">287</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00311">StartMotor()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0"></a><!-- doxytag: member="BLDC.h::SYSTEM_FREQUENCY" ref="a0" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define SYSTEM_FREQUENCY&nbsp;&nbsp;&nbsp;8000000          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
System clock frequecy. Used to calculate PWM TOP value. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00027">27</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a68"></a><!-- doxytag: member="BLDC.h::TICKS_PER_MINUTE" ref="a68" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define TICKS_PER_MINUTE&nbsp;&nbsp;&nbsp;(TICKS_PER_SECOND * 60)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The number of Timer/Counter1 ticks per minute. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00243">243</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00672">CalculateSpeed()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a67"></a><!-- doxytag: member="BLDC.h::TICKS_PER_SECOND" ref="a67" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define TICKS_PER_SECOND&nbsp;&nbsp;&nbsp;1000000UL          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The number of Timer/Counter1 ticks per second. Equals MCU clock frequency / Timer/counter1 prescaler.
<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00240">240</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4"></a><!-- doxytag: member="BLDC.h::TRUE" ref="a4" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define TRUE&nbsp;&nbsp;&nbsp;(!FALSE)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Boolean TRUE expression. Can be used both for test and assignment. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00039">39</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00544">CurrentMeasurementComplete()</a>, and <a class="el" href="main_8c-source.html#l00364">MotorPWMBottom()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6"></a><!-- doxytag: member="BLDC.h::UH" ref="a6" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define UH&nbsp;&nbsp;&nbsp;PB4          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Port pin connected to phase U, high side enable switch. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00045">45</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00174">InitPorts()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5"></a><!-- doxytag: member="BLDC.h::UL" ref="a5" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define UL&nbsp;&nbsp;&nbsp;PB5          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Port pin connected to phase U, low side enable switch. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00042">42</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00719">CalculateCurrent()</a>, and <a class="el" href="main_8c-source.html#l00174">InitPorts()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8"></a><!-- doxytag: member="BLDC.h::VH" ref="a8" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define VH&nbsp;&nbsp;&nbsp;PB2          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Port pin connected to phase V, high side enable switch. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00051">51</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00174">InitPorts()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7"></a><!-- doxytag: member="BLDC.h::VL" ref="a7" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define VL&nbsp;&nbsp;&nbsp;PB3          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Port pin connected to phase V, low side enable switch. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00048">48</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00174">InitPorts()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10"></a><!-- doxytag: member="BLDC.h::WH" ref="a10" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define WH&nbsp;&nbsp;&nbsp;PB0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Port pin connected to phase W, high side enable switch. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00057">57</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00174">InitPorts()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9"></a><!-- doxytag: member="BLDC.h::WL" ref="a9" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define WL&nbsp;&nbsp;&nbsp;PB1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Port pin connected to phase W, low side enable switch. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00054">54</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00174">InitPorts()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a55"></a><!-- doxytag: member="BLDC.h::ZC_DETECTION_HOLDOFF_TIME_US" ref="a55" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define ZC_DETECTION_HOLDOFF_TIME_US&nbsp;&nbsp;&nbsp;(<a class="el" href="main_8c.html#a3">filteredTimeSinceCommutation</a> / 2)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Holdoff time where zero-cross detection is disabled after commutation. 
<p>

<p>
Definition at line <a class="el" href="BLDC_8h-source.html#l00201">201</a> of file <a class="el" href="BLDC_8h-source.html">BLDC.h</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00482">Commutate()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a98"></a><!-- doxytag: member="BLDC.h::CalculateCurrent" ref="a98" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static unsigned int CalculateCurrent           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main_8c-source.html#l00767">CurrentControl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a96"></a><!-- doxytag: member="BLDC.h::CalculateSpeed" ref="a96" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static unsigned long CalculateSpeed           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main_8c-source.html#l00742">SpeedControl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a97"></a><!-- doxytag: member="BLDC.h::CalculateSpeedSetpoint" ref="a97" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static unsigned long CalculateSpeedSetpoint           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main_8c-source.html#l00742">SpeedControl()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a100"></a><!-- doxytag: member="BLDC.h::CurrentControl" ref="a100" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static unsigned char CurrentControl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a89"></a><!-- doxytag: member="BLDC.h::InitADC" ref="a89" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void InitADC           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main_8c-source.html#l00088">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a90"></a><!-- doxytag: member="BLDC.h::InitAnalogComparator" ref="a90" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void InitAnalogComparator           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main_8c-source.html#l00088">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a87"></a><!-- doxytag: member="BLDC.h::InitPorts" ref="a87" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void InitPorts           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main_8c-source.html#l00088">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a88"></a><!-- doxytag: member="BLDC.h::InitTimers" ref="a88" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void InitTimers           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main_8c-source.html#l00088">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a92"></a><!-- doxytag: member="BLDC.h::MakeTables" ref="a92" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void MakeTables           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main_8c-source.html#l00088">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a94"></a><!-- doxytag: member="BLDC.h::PWMControl" ref="a94" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void PWMControl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main_8c-source.html#l00088">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a86"></a><!-- doxytag: member="BLDC.h::ResetHandler" ref="a86" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void ResetHandler           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main_8c-source.html#l00088">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a99"></a><!-- doxytag: member="BLDC.h::SpeedControl" ref="a99" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static signed int SpeedControl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a93"></a><!-- doxytag: member="BLDC.h::StartMotor" ref="a93" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void StartMotor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main_8c-source.html#l00088">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a95"></a><!-- doxytag: member="BLDC.h::StartupDelay" ref="a95" args="(unsigned int delay)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void StartupDelay           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>delay</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Generates a delay used during startup. 
<p>
This functions is used to generate a delay during the startup procedure. The length of the delay equals delay * STARTUP_DELAY_MULTIPLIER microseconds. Since Timer/Counter1 is used in this function, it must never be called when sensorless operation is running.
<p>
Definition at line <a class="el" href="main_8c-source.html#l00593">593</a> of file <a class="el" href="main_8c-source.html">main.c</a>.
<p>
References <a class="el" href="BLDC_8h-source.html#l00216">CLEAR_ALL_TIMER1_INT_FLAGS</a>, and <a class="el" href="BLDC_8h-source.html#l00189">STARTUP_DELAY_MULTIPLIER</a>.
<p>
Referenced by <a class="el" href="main_8c-source.html#l00311">StartMotor()</a>.<div class="fragment"><pre class="fragment"><a name="l00594"></a>00594 {
<a name="l00595"></a>00595   <a class="code" href="BLDC_8h.html#a60">CLEAR_ALL_TIMER1_INT_FLAGS</a>;
<a name="l00596"></a>00596   <span class="keywordflow">do</span>
<a name="l00597"></a>00597   {
<a name="l00598"></a>00598     TCNT1 = 0xffff - <a class="code" href="BLDC_8h.html#a52">STARTUP_DELAY_MULTIPLIER</a>;
<a name="l00599"></a>00599     <span class="comment">// Wait for timer to overflow.</span>
<a name="l00600"></a>00600     <span class="keywordflow">while</span> (!(TIFR1 &amp; (1 &lt;&lt; TOV1)))
<a name="l00601"></a>00601     {
<a name="l00602"></a>00602 
<a name="l00603"></a>00603     }
<a name="l00604"></a>00604 
<a name="l00605"></a>00605     <a class="code" href="BLDC_8h.html#a60">CLEAR_ALL_TIMER1_INT_FLAGS</a>;
<a name="l00606"></a>00606     delay--;
<a name="l00607"></a>00607   } <span class="keywordflow">while</span> (delay);
<a name="l00608"></a>00608 }
</pre></div>
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a91"></a><!-- doxytag: member="BLDC.h::WatchdogTimerEnable" ref="a91" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void WatchdogTimerEnable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main_8c-source.html#l00088">main()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Tue Oct 11 10:57:03 2005 for Sensorless control of 3-phase brushless DC motors by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.4 </small></address>
</body>
</html>
